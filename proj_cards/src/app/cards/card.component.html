<h2>CRIANDO CARDS</h2>

<div class="usuarioContainer">
    <div class="usuario">
        <i class="fa-solid fa-user fa-bounce">
            <svg xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 448 512">
                <path
                    d="M224 256A128 128 0 1 0 224 0a128 128 0 1 0 0 256zm-45.7 48C79.8 304 0 383.8 0 482.3C0 498.7 13.3 512 29.7 512H418.3c16.4 0 29.7-13.3 29.7-29.7C448 383.8 368.2 304 269.7 304H178.3z" />
            </svg>
        </i>

        <label for="usuario">
            {{usuario}}
        </label>
    </div>
    <div class="alert" *ngIf="alert">
        <h4>
            {{mensagemAlert}}
        </h4>
        <button (click)="deletarCard(true)" class="button">Confirma</button>
        <button (click)="deletarCard(false)" class="button">Cancelar</button>
    </div>

    <div class="alertSuccess" *ngIf="alertSuccess">
        <h4>
            {{mensagemAlert}}
        </h4>
    </div>

    <div class="alertaSalva" *ngIf="alertSalva">
        <h4>
            {{mensagemSalva}}
        </h4>
    </div>

    <div class="alertanenhumArquivo" *ngIf="alertanenhumArquivo">
        {{mensagemSalva}}
    </div>
</div>

<button (click)="criarCrads()" color="accent" class="btnCriar">
    Criar Novo Card
</button>

<button (click)="deletarLote()" color="accent" class="btnDeletar">
    Deletar em Lote
</button>

<div *ngIf="conditionClick" class="card">
    <div *ngFor="let card of cards; let i = index" [ngClass]="{'container': true}">

        <div class="botao">
            <!-- Upload -->
            <i class="fa-solid fa-cloud-arrow-up">
                <svg xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 640 512" class="btnUplaod"
                    (click)="fileInput.click()">
                    <path
                        d="M144 480C64.5 480 0 415.5 0 336c0-62.8 40.2-116.2 96.2-135.9c-.1-2.7-.2-5.4-.2-8.1c0-88.4 71.6-160 160-160c59.3 0 111 32.2 138.7 80.2C409.9 102 428.3 96 448 96c53 0 96 43 96 96c0 12.2-2.3 23.8-6.4 34.6C596 238.4 640 290.1 640 352c0 70.7-57.3 128-128 128H144zm79-217c-9.4 9.4-9.4 24.6 0 33.9s24.6 9.4 33.9 0l39-39V392c0 13.3 10.7 24 24 24s24-10.7 24-24V257.9l39 39c9.4 9.4 24.6 9.4 33.9 0s9.4-24.6 0-33.9l-80-80c-9.4-9.4-24.6-9.4-33.9 0l-80 80z" />
                </svg>
            </i>

            <!-- Salvar -->
            <i class="fa-solid fa-floppy-disk">
                <svg xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 448 512" class="btnSalvar"
                    (click)="salvarArquivo(i)">
                    <path
                        d="M64 32C28.7 32 0 60.7 0 96V416c0 35.3 28.7 64 64 64H384c35.3 0 64-28.7 64-64V173.3c0-17-6.7-33.3-18.7-45.3L352 50.7C340 38.7 323.7 32 306.7 32H64zm0 96c0-17.7 14.3-32 32-32H288c17.7 0 32 14.3 32 32v64c0 17.7-14.3 32-32 32H96c-17.7 0-32-14.3-32-32V128zM224 288a64 64 0 1 1 0 128 64 64 0 1 1 0-128z" />
                </svg>
            </i>

            <!-- Download -->
            <a [href]="card.fileUrl" download="{{ card.fileName }}">
                <i class="fa-solid fa-download" class="btnDownload">
                    <svg xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 512 512">
                        <path
                            d="M288 32c0-17.7-14.3-32-32-32s-32 14.3-32 32V274.7l-73.4-73.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l128 128c12.5 12.5 32.8 12.5 45.3 0l128-128c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L288 274.7V32zM64 352c-35.3 0-64 28.7-64 64v32c0 35.3 28.7 64 64 64H448c35.3 0 64-28.7 64-64V416c0-35.3-28.7-64-64-64H346.5l-45.3 45.3c-25 25-65.5 25-90.5 0L165.5 352H64zm368 56a24 24 0 1 1 0 48 24 24 0 1 1 0-48z" />
                    </svg>
                </i>
            </a>

            <!-- Delete -->
            <i class="fa-solid fa-trash" (click)="confirmacaoDelete(card)">
                <svg xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 448 512" class="btnExcluir">
                    <path
                        d="M135.2 17.7L128 32H32C14.3 32 0 46.3 0 64S14.3 96 32 96H416c17.7 0 32-14.3 32-32s-14.3-32-32-32H320l-7.2-14.3C307.4 6.8 296.3 0 284.2 0H163.8c-12.1 0-23.2 6.8-28.6 17.7zM416 128H32L53.2 467c1.6 25.3 22.6 45 47.9 45H346.9c25.3 0 46.3-19.7 47.9-45L416 128z" />
                </svg>
            </i>
        </div>

        <!-- NÃºmero Card -->
        <div class="nome_titulo">
            Card: #{{ card.id }}
        </div>


        <!-- Nome do Arquivo -->
        <input type="file" id="file" name="file" multiple class="file" (change)="uploadFiles($event, i)" #fileInput />
        <div class="arquivo">
            Arquivo:

            <label for="arquivo" class=" labelArquivo">
                {{ card.fileName }}
            </label>
        </div>
    </div>
</div>
